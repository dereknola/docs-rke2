<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-install/requirements" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Requirements | RKE2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.rke2.io/docs-rke2/install/requirements"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Requirements | RKE2"><meta data-rh="true" name="description" content="RKE2 is very lightweight, but has some minimum requirements as outlined below."><meta data-rh="true" property="og:description" content="RKE2 is very lightweight, but has some minimum requirements as outlined below."><link data-rh="true" rel="icon" href="/docs-rke2/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.rke2.io/docs-rke2/install/requirements"><link data-rh="true" rel="alternate" href="https://docs.rke2.io/docs-rke2/install/requirements" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.rke2.io/docs-rke2/zh/install/requirements" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.rke2.io/docs-rke2/install/requirements" hreflang="x-default"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/docs-rke2/assets/css/styles.9d6722ac.css">
<script src="/docs-rke2/assets/js/runtime~main.06d70695.js" defer="defer"></script>
<script src="/docs-rke2/assets/js/main.8401415a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-rke2/"><div class="navbar__logo"><img src="/docs-rke2/img/logo-horizontal-rke2.svg" alt="logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-rke2/img/logo-horizontal-rke2-dark.svg" alt="logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs-rke2/install/requirements" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/docs-rke2/zh/install/requirements" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">简体中文</a></li></ul></div><a href="https://github.com/rancher/rke2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__github">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More From SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="http://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester</a></li><li><a href="https://rancherdesktop.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rd">Rancher Desktop</a></li><li><a href="https://kubewarden.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__kubewarden">Kubewarden</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-rke2/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs-rke2/install/quickstart">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/quickstart">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-rke2/install/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/configuration">Configuration Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/network_options">Network Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/ha">High Availability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/methods">Installation Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/containerd_registry_configuration">Containerd Registry Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/airgap">Air-Gap Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/windows_airgap">Windows Air-Gap Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/server_roles">Managing Server Roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-rke2/install/uninstall">Uninstall</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs-rke2/upgrade">Upgrades</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs-rke2/security/about_hardened_images">Security</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-rke2/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-rke2/cluster_access">Cluster Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-rke2/backup_restore">Etcd Backup and Restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-rke2/networking">Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-rke2/helm">Helm Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-rke2/advanced">Advanced Options and Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs-rke2/reference/cli_tools">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs-rke2/release-notes/v1.24.X">Release Notes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-rke2/known_issues">Known Issues and Limits</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-rke2/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Requirements</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Requirements</h1></header><p>RKE2 is very lightweight, but has some minimum requirements as outlined below.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>Two rke2 nodes cannot have the same node name. By default, the node name is taken from the machine&#x27;s hostname.</p>
<p>If two or more of your machines have the same hostname, you must do one of the following:</p>
<ul>
<li>Update the hostname to a unique value</li>
<li>Set the <code>node-name</code> parameter in the config file to a unique value</li>
<li>Set the <code>with-node-id</code> parameter in the config file to <code>true</code> to append a randomly generated ID number to the hostname.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Version Gate</div><div class="admonitionContent_BuS1"><p>The <code>with-node-id</code> parameter is available starting with the 2023-05 releases (v1.27.2+rke2r1, v1.26.5+rke2r1, v1.25.10+rke2r1, v1.24.14+rke2r1).</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="operating-systems">Operating Systems<a href="#operating-systems" class="hash-link" aria-label="Direct link to Operating Systems" title="Direct link to Operating Systems">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux">Linux<a href="#linux" class="hash-link" aria-label="Direct link to Linux" title="Direct link to Linux">​</a></h3>
<p>RKE2 has been tested and validated on the following operating systems, and their subsequent non-major releases:</p>
<table><thead><tr><th>Distro</th><th>Version</th></tr></thead><tbody><tr><td>Ubuntu</td><td>18.04, 20.04, 22.04</td></tr><tr><td>CentOS/RHEL</td><td>7.8</td></tr><tr><td>Rocky/RHEL</td><td>8.5, 9.1</td></tr><tr><td>Oracle Linux</td><td>8.7</td></tr><tr><td>Amazon Linux</td><td>2023</td></tr><tr><td>SLES</td><td>15 SP3, SP4</td></tr><tr><td>OpenSUSE, SLE Micro</td><td>5.1, 5.2, 5.3, 5.4</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Direct link to Windows" title="Direct link to Windows">​</a></h3>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Version Gate</div><div class="admonitionContent_BuS1"><p>Experimental as of <a href="https://github.com/rancher/rke2/releases/tag/v1.21.3%2Brke2r1" target="_blank" rel="noopener noreferrer">v1.21.3+rke2r1</a></p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Windows Support requires choosing Calico as the CNI for the RKE2 cluster</p></div></div>
<p>The RKE2 Windows Node (Worker) agent has been tested and validated on the following operating systems, and their subsequent non-major releases:</p>
<ul>
<li>Windows Server 2019 LTSC (amd64) (OS Build 17763.2061)</li>
<li>Windows Server 2022 LTSC (amd64) (OS Build 20348.169)</li>
</ul>
<p><strong>Note</strong> The Windows Server Containers feature needs to be enabled for the RKE2 Windows agent to work.</p>
<p>Open a new Powershell window with Administrator privileges</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">powershell -Command &quot;Start-Process PowerShell -Verb RunAs&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the new Powershell window, run the following command.</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Enable-WindowsOptionalFeature -Online -FeatureName Containers –All</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will require a reboot for the <code>Containers</code> feature to properly function.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hardware">Hardware<a href="#hardware" class="hash-link" aria-label="Direct link to Hardware" title="Direct link to Hardware">​</a></h2>
<p>Hardware requirements scale based on the size of your deployments. Minimum recommendations are outlined here.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="linuxwindows">Linux/Windows<a href="#linuxwindows" class="hash-link" aria-label="Direct link to Linux/Windows" title="Direct link to Linux/Windows">​</a></h3>
<ul>
<li>RAM: 4GB Minimum (we recommend at least 8GB)</li>
<li>CPU: 2 Minimum (we recommend at least 4CPU)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vm-sizing-guide">VM Sizing Guide<a href="#vm-sizing-guide" class="hash-link" aria-label="Direct link to VM Sizing Guide" title="Direct link to VM Sizing Guide">​</a></h3>
<p>When limited on CPU and RAM on the control-plane + etcd nodes, there could be limitations for the amount of agent nodes that can be joined under standard workload conditions.</p>
<table><thead><tr><th>Server CPU</th><th>Server RAM</th><th>Number of Agents</th></tr></thead><tbody><tr><td>2</td><td>4 GB</td><td>0-225</td></tr><tr><td>4</td><td>8 GB</td><td>226-450</td></tr><tr><td>8</td><td>16 GB</td><td>451-1300</td></tr><tr><td>16+</td><td>32 GB</td><td>1300+</td></tr></tbody></table>
<p>It is recommended to join agent nodes in batches of 50 or less to allow the CPU to free up space, as there is a spike on node join. Remember to modify the default <code>cluster-cidr</code> if desiring more than 255 nodes!</p>
<p>This data was retrieved under specific test conditions. It will vary depending upon environment and workloads. The steps below give an overview of the test that was run to retrieve this. It was last performed on v1.27.4+rke2r1. All of the machines were provisioned in AWS with standard 20 GiB gp3 volumes.</p>
<ol>
<li>Monitor resources on grafana using prometheus data source.</li>
<li>Deploy workloads in such a way to simulate continuous cluster activity:<!-- -->
<ul>
<li>A basic workload that scales up and down continuously</li>
<li>A workload that is deleted and recreated in a loop</li>
<li>A constant workload that contains multiple other resources including CRDs.</li>
</ul>
</li>
<li>Join agent nodes in batches of 30-50 at a time.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="disks">Disks<a href="#disks" class="hash-link" aria-label="Direct link to Disks" title="Direct link to Disks">​</a></h4>
<p>RKE2 performance depends on the performance of the database, and since RKE2 runs etcd embeddedly and it stores the data dir on disk, we recommend using an SSD when possible to ensure optimal performance.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="networking">Networking<a href="#networking" class="hash-link" aria-label="Direct link to Networking" title="Direct link to Networking">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Important</div><div class="admonitionContent_BuS1"><p>If your node has NetworkManager installed and enabled, <a href="/docs-rke2/known_issues#networkmanager">ensure that it is configured to ignore CNI-managed interfaces.</a>. If your node has Wicked installed and enabled, <a href="/docs-rke2/known_issues#wicked">ensure that the forwarding sysctl config is enabled</a></p></div></div>
<p>The RKE2 server needs port 6443 and 9345 to be accessible by other nodes in the cluster.</p>
<p>All nodes need to be able to reach other nodes over UDP port 8472 when Flannel VXLAN is used.</p>
<p>If you wish to utilize the metrics server, you will need to open port 10250 on each node.</p>
<p><strong>Important:</strong> The VXLAN port on nodes should not be exposed to the world as it opens up your cluster network to be accessed by anyone. Run your nodes behind a firewall/security group that disables access to port 8472.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inbound-network-rules">Inbound Network Rules<a href="#inbound-network-rules" class="hash-link" aria-label="Direct link to Inbound Network Rules" title="Direct link to Inbound Network Rules">​</a></h3>
<table><thead><tr><th>Protocol</th><th>Port</th><th>Source</th><th>Destination</th><th>Description</th></tr></thead><tbody><tr><td>TCP</td><td>9345</td><td>RKE2 agent nodes</td><td>RKE2 server nodes</td><td>RKE2 supervisor API</td></tr><tr><td>TCP</td><td>6443</td><td>RKE2 agent nodes</td><td>RKE2 server nodes</td><td>Kubernetes API</td></tr><tr><td>UDP</td><td>8472</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Required only for Flannel VXLAN</td></tr><tr><td>TCP</td><td>10250</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>kubelet metrics</td></tr><tr><td>TCP</td><td>2379</td><td>RKE2 server nodes</td><td>RKE2 server nodes</td><td>etcd client port</td></tr><tr><td>TCP</td><td>2380</td><td>RKE2 server nodes</td><td>RKE2 server nodes</td><td>etcd peer port</td></tr><tr><td>TCP</td><td>2381</td><td>RKE2 server nodes</td><td>RKE2 server nodes</td><td>etcd metrics port</td></tr><tr><td>TCP</td><td>30000-32767</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>NodePort port range</td></tr><tr><td>UDP</td><td>8472</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Cilium CNI VXLAN</td></tr><tr><td>TCP</td><td>4240</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Cilium CNI health checks</td></tr><tr><td>ICMP</td><td>8/0</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Cilium CNI health checks</td></tr><tr><td>TCP</td><td>179</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Calico CNI with BGP</td></tr><tr><td>UDP</td><td>4789</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Calico CNI with VXLAN</td></tr><tr><td>TCP</td><td>5473</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Calico CNI with Typha</td></tr><tr><td>TCP</td><td>9098</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Calico Typha health checks</td></tr><tr><td>TCP</td><td>9099</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Calico health checks</td></tr><tr><td>TCP</td><td>5473</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Calico CNI with Typha</td></tr><tr><td>UDP</td><td>8472</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Canal CNI with VXLAN</td></tr><tr><td>TCP</td><td>9099</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Canal CNI health checks</td></tr><tr><td>UDP</td><td>51820</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Canal CNI with WireGuard IPv4</td></tr><tr><td>UDP</td><td>51821</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Canal CNI with WireGuard IPv6/dual-stack</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows-specific-inbound-network-rules">Windows Specific Inbound Network Rules<a href="#windows-specific-inbound-network-rules" class="hash-link" aria-label="Direct link to Windows Specific Inbound Network Rules" title="Direct link to Windows Specific Inbound Network Rules">​</a></h3>
<table><thead><tr><th>Protocol</th><th>Port</th><th>Source</th><th>Destination</th><th>Description</th></tr></thead><tbody><tr><td>UDP</td><td>4789</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Required for Calico and Flannel VXLAN</td></tr><tr><td>TCP</td><td>179</td><td>All RKE2 nodes</td><td>All RKE2 nodes</td><td>Calico CNI with BGP</td></tr></tbody></table>
<p>Typically, all outbound traffic will be allowed.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rke2-docs/edit/main/docs/install/requirements.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-18T22:33:48.000Z">Jan 18, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-rke2/install/quickstart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick Start</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-rke2/install/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration Options</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#operating-systems" class="table-of-contents__link toc-highlight">Operating Systems</a><ul><li><a href="#linux" class="table-of-contents__link toc-highlight">Linux</a></li><li><a href="#windows" class="table-of-contents__link toc-highlight">Windows</a></li></ul></li><li><a href="#hardware" class="table-of-contents__link toc-highlight">Hardware</a><ul><li><a href="#linuxwindows" class="table-of-contents__link toc-highlight">Linux/Windows</a></li><li><a href="#vm-sizing-guide" class="table-of-contents__link toc-highlight">VM Sizing Guide</a></li></ul></li><li><a href="#networking" class="table-of-contents__link toc-highlight">Networking</a><ul><li><a href="#inbound-network-rules" class="table-of-contents__link toc-highlight">Inbound Network Rules</a></li><li><a href="#windows-specific-inbound-network-rules" class="table-of-contents__link toc-highlight">Windows Specific Inbound Network Rules</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
</body>
</html>